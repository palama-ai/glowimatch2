import{r,j as e,H as h}from"./index-_ibJpO5e.js";const o="https://backend-three-sigma-81.vercel.app/api",p=()=>{const[i,l]=r.useState([]),[a,m]=r.useState(null),d=async()=>{const s=localStorage.getItem("gm_auth"),t=s?{Authorization:`Bearer ${JSON.parse(s).token}`}:{},n=await(await fetch(`${o}/admin/messages`,{headers:t})).json();l(n.data||[])};r.useEffect(()=>{d()},[]);const x=async s=>{const t=localStorage.getItem("gm_auth"),c=t?{Authorization:`Bearer ${JSON.parse(t).token}`}:{},g=await(await fetch(`${o}/admin/messages/${s}`,{headers:c})).json();m(g.data||null),d()};return e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(h,{}),e.jsxs("main",{className:"max-w-6xl mx-auto px-5 lg:px-8 py-12",children:[e.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Contact Messages"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[e.jsx("div",{children:e.jsx("div",{className:"space-y-2",children:i.map(s=>e.jsxs("div",{onClick:()=>x(s.id),className:`p-3 rounded-lg border ${s.read?"bg-muted/20":"bg-card"} cursor-pointer`,children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-xs text-muted-foreground",children:s.email}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(s.created_at).toLocaleString()})]},s.id))})}),e.jsx("div",{className:"md:col-span-2",children:a?e.jsxs("div",{className:"bg-card border border-border rounded-lg p-6",children:[e.jsxs("h3",{className:"font-semibold text-foreground mb-2",children:[a.name," <",a.email,">"]}),e.jsx("div",{className:"text-xs text-muted-foreground mb-4",children:new Date(a.created_at).toLocaleString()}),e.jsx("div",{className:"whitespace-pre-wrap text-sm text-foreground",children:a.message})]}):e.jsx("div",{className:"text-muted-foreground",children:"Select a message to read"})})]})]})]})};export{p as default};
