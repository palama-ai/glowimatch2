import{i as P,d as y,c as S,r as x,j as e,a as r,L as p}from"./index-_ibJpO5e.js";const E=({activePage:t})=>{var c;const n=y(),{signOut:o,userProfile:a}=S(),i=[{id:"dashboard",label:"Overview",icon:"LayoutDashboard",path:"/seller"},{id:"products",label:"Products",icon:"Package",path:"/seller/products"},{id:"news",label:"News",icon:"Bell",path:"/seller/news"},{id:"profile",label:"Settings",icon:"Settings",path:"/seller/profile"}],l=async()=>{await o(),n("/login")};return e.jsxs("aside",{className:"w-72 min-h-screen bg-gradient-to-b from-slate-900 to-slate-950 flex flex-col",children:[e.jsx("div",{className:"p-8",children:e.jsxs(p,{to:"/seller",className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-2xl bg-gradient-to-br from-rose-500 via-pink-500 to-fuchsia-500 flex items-center justify-center shadow-lg shadow-pink-500/25",children:e.jsx(r,{name:"Sparkles",size:24,className:"text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"font-bold text-xl text-white tracking-tight",children:"Glowimatch"}),e.jsx("p",{className:"text-xs text-slate-400 font-medium",children:"Seller Dashboard"})]})]})}),e.jsxs("nav",{className:"flex-1 px-4 py-6",children:[e.jsx("p",{className:"px-4 text-xs font-semibold text-slate-500 uppercase tracking-wider mb-4",children:"Menu"}),e.jsx("div",{className:"space-y-1",children:i.map(d=>e.jsxs(p,{to:d.path,className:`group flex items-center gap-4 px-4 py-3.5 rounded-xl transition-all duration-200 ${t===d.id?"bg-gradient-to-r from-pink-500/20 to-fuchsia-500/10 text-white border-l-2 border-pink-500":"text-slate-400 hover:text-white hover:bg-white/5"}`,children:[e.jsx(r,{name:d.icon,size:20,className:t===d.id?"text-pink-400":"text-slate-500 group-hover:text-pink-400 transition-colors"}),e.jsx("span",{className:"font-medium",children:d.label}),t===d.id&&e.jsx("div",{className:"ml-auto w-1.5 h-1.5 rounded-full bg-pink-500"})]},d.id))})]}),e.jsxs("div",{className:"p-4 border-t border-slate-800",children:[e.jsxs("div",{className:"flex items-center gap-3 p-4 rounded-xl bg-slate-800/50 mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-pink-500 to-fuchsia-500 flex items-center justify-center text-white font-bold text-sm",children:(((c=a==null?void 0:a.full_name)==null?void 0:c[0])||"S").toUpperCase()}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-sm font-semibold text-white truncate",children:(a==null?void 0:a.full_name)||"Seller"}),e.jsx("p",{className:"text-xs text-slate-500",children:"Seller Account"})]})]}),e.jsxs("button",{onClick:l,className:"flex items-center gap-3 px-4 py-3 w-full rounded-xl text-slate-400 hover:text-red-400 hover:bg-red-500/10 transition-all",children:[e.jsx(r,{name:"LogOut",size:18}),e.jsx("span",{className:"font-medium text-sm",children:"Sign Out"})]})]})]})},h=({icon:t,label:n,value:o,trend:a,gradient:i="from-pink-500 to-rose-500"})=>e.jsxs("div",{className:"relative overflow-hidden bg-white dark:bg-slate-900 rounded-3xl p-6 shadow-sm border border-slate-100 dark:border-slate-800 group hover:shadow-lg hover:shadow-pink-500/5 transition-all duration-300",children:[e.jsx("div",{className:`absolute -top-10 -right-10 w-24 h-24 bg-gradient-to-br ${i} opacity-10 rounded-full blur-2xl group-hover:opacity-20 transition-opacity`}),e.jsxs("div",{className:"relative",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-2xl bg-gradient-to-br ${i} flex items-center justify-center shadow-lg`,children:e.jsx(r,{name:t,size:22,className:"text-white"})}),a!==void 0&&e.jsxs("div",{className:`flex items-center gap-1 px-2.5 py-1 rounded-full text-xs font-semibold ${a>=0?"bg-emerald-50 text-emerald-600 dark:bg-emerald-500/10 dark:text-emerald-400":"bg-red-50 text-red-600 dark:bg-red-500/10 dark:text-red-400"}`,children:[e.jsx(r,{name:a>=0?"TrendingUp":"TrendingDown",size:12}),Math.abs(a),"%"]})]}),e.jsx("p",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:o}),e.jsx("p",{className:"text-sm text-slate-500 mt-1 font-medium",children:n})]})]}),L=({analytics:t})=>{var o,a;const n=Math.max(...((o=t==null?void 0:t.viewsByDay)==null?void 0:o.map(i=>i.views))||[1],1);return e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-6 border border-slate-100 dark:border-slate-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Views Analytics"}),e.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"Last 7 days performance"})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-slate-100 dark:bg-slate-800 rounded-xl",children:[e.jsx("div",{className:"w-2 h-2 rounded-full bg-pink-500"}),e.jsx("span",{className:"text-xs font-medium text-slate-600 dark:text-slate-400",children:"Views"})]})]}),((a=t==null?void 0:t.viewsByDay)==null?void 0:a.length)>0?e.jsx("div",{className:"flex items-end justify-between gap-3 h-48",children:t.viewsByDay.map((i,l)=>{const c=Math.max(i.views/n*100,5);return e.jsxs("div",{className:"flex-1 flex flex-col items-center gap-3",children:[e.jsxs("div",{className:"relative w-full group",children:[e.jsxs("div",{className:"absolute -top-8 left-1/2 -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-opacity bg-slate-900 text-white text-xs font-medium px-2 py-1 rounded-lg whitespace-nowrap",children:[i.views," views"]}),e.jsx("div",{className:"w-full bg-gradient-to-t from-pink-500 via-rose-400 to-pink-300 rounded-xl transition-all duration-500 hover:from-pink-600 hover:via-rose-500 hover:to-pink-400 cursor-pointer",style:{height:`${c}%`,minHeight:"12px"}})]}),e.jsx("span",{className:"text-xs font-medium text-slate-400",children:new Date(i.date).toLocaleDateString("en",{weekday:"short"})})]},l)})}):e.jsxs("div",{className:"h-48 flex flex-col items-center justify-center text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-slate-100 dark:bg-slate-800 flex items-center justify-center mb-4",children:e.jsx(r,{name:"BarChart3",size:28,className:"text-slate-400"})}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 font-medium",children:"No data yet"}),e.jsx("p",{className:"text-sm text-slate-400 mt-1",children:"Views will appear here once you get traffic"})]})]})},$=({product:t,onClick:n})=>e.jsxs("div",{onClick:n,className:"group relative bg-white dark:bg-slate-900 rounded-2xl overflow-hidden border border-slate-100 dark:border-slate-800 hover:shadow-xl hover:shadow-pink-500/10 transition-all duration-300 cursor-pointer",children:[e.jsxs("div",{className:"aspect-square relative overflow-hidden",children:[t.image_url?e.jsx("img",{src:t.image_url,alt:t.name,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-500"}):e.jsx("div",{className:"w-full h-full bg-gradient-to-br from-slate-100 to-slate-200 dark:from-slate-800 dark:to-slate-900 flex items-center justify-center",children:e.jsx(r,{name:"Image",size:40,className:"text-slate-300 dark:text-slate-600"})}),e.jsx("div",{className:`absolute top-3 right-3 px-2.5 py-1 rounded-full text-xs font-semibold backdrop-blur-sm ${t.published?"bg-emerald-500/90 text-white":"bg-amber-500/90 text-white"}`,children:t.published?"Live":"Draft"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300 flex items-end p-4",children:e.jsxs("div",{className:"transform translate-y-4 group-hover:translate-y-0 transition-transform duration-300",children:[e.jsx("p",{className:"text-white font-semibold truncate",children:t.name}),e.jsxs("div",{className:"flex items-center gap-3 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1 text-white/80 text-sm",children:[e.jsx(r,{name:"Eye",size:14}),t.view_count||0]}),t.price&&e.jsxs("span",{className:"text-white/80 text-sm",children:["$",t.price]})]})]})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-slate-900 dark:text-white truncate",children:t.name}),e.jsxs("p",{className:"text-sm text-slate-500 mt-1 flex items-center gap-2",children:[e.jsx(r,{name:"Eye",size:14}),t.view_count||0," views"]})]})]}),B=()=>{var b,j;const t=P(),n=y(),{userProfile:o}=S(),[a,i]=x.useState([]),[l,c]=x.useState(null),[d,z]=x.useState(!0),[C,g]=x.useState(!1);x.useEffect(()=>{localStorage.getItem("gm_seller_welcome_seen")||g(!0)},[]);const f=()=>{localStorage.setItem("gm_seller_welcome_seen","true"),g(!1)},D=()=>{const s=t.pathname;return s==="/seller"||s==="/seller/"?"dashboard":s.includes("/products")?"products":s.includes("/news")?"news":s.includes("/profile")?"profile":"dashboard"};x.useEffect(()=>{_()},[]);const _=async()=>{var s;try{const v={Authorization:`Bearer ${(s=JSON.parse(localStorage.getItem("gm_auth")||"{}"))==null?void 0:s.token}`,"Content-Type":"application/json"},w="https://backend-three-sigma-81.vercel.app/api",[N,k]=await Promise.all([fetch(`${w}/seller/products`,{headers:v}),fetch(`${w}/seller/analytics`,{headers:v})]);if(N.ok){const u=await N.json();i(u.data||[])}if(k.ok){const u=await k.json();c(u.data||{})}}catch(m){console.error("Error fetching seller data:",m)}finally{z(!1)}},A=()=>{const s=new Date().getHours();return s<12?"Good morning":s<18?"Good afternoon":"Good evening"};return e.jsxs("div",{className:"flex min-h-screen bg-slate-50 dark:bg-slate-950",children:[e.jsx(E,{activePage:D()}),e.jsxs("main",{className:"flex-1 p-8 lg:p-10",children:[e.jsx("header",{className:"mb-10",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-pink-500 mb-1",children:A()}),e.jsxs("h1",{className:"text-3xl font-bold text-slate-900 dark:text-white tracking-tight",children:["Welcome back, ",((b=o==null?void 0:o.full_name)==null?void 0:b.split(" ")[0])||"Seller"]}),e.jsx("p",{className:"text-slate-500 mt-2",children:"Here's an overview of your store performance"})]}),e.jsxs("button",{onClick:()=>n("/seller/products"),className:"flex items-center gap-2 px-5 py-3 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-xl font-semibold shadow-lg shadow-pink-500/25 hover:shadow-xl hover:shadow-pink-500/30 hover:-translate-y-0.5 transition-all duration-200",children:[e.jsx(r,{name:"Plus",size:18}),"Add Product"]})]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-8",children:[e.jsx(h,{icon:"Package",label:"Total Products",value:(l==null?void 0:l.totalProducts)||0,gradient:"from-violet-500 to-purple-500"}),e.jsx(h,{icon:"Eye",label:"Total Views",value:(l==null?void 0:l.totalViews)||0,trend:12,gradient:"from-pink-500 to-rose-500"}),e.jsx(h,{icon:"CheckCircle",label:"Published",value:(l==null?void 0:l.publishedProducts)||0,gradient:"from-emerald-500 to-teal-500"}),e.jsx(h,{icon:"TrendingUp",label:"This Week",value:((j=l==null?void 0:l.viewsByDay)==null?void 0:j.reduce((s,m)=>s+(m.views||0),0))||0,trend:8,gradient:"from-amber-500 to-orange-500"})]}),e.jsx("div",{className:"mb-8",children:e.jsx(L,{analytics:l})}),e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-3xl p-6 border border-slate-100 dark:border-slate-800",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-bold text-slate-900 dark:text-white",children:"Your Products"}),e.jsxs("p",{className:"text-sm text-slate-500 mt-0.5",children:[a.length," products in catalog"]})]}),e.jsxs(p,{to:"/seller/products",className:"text-sm font-semibold text-pink-500 hover:text-pink-600 flex items-center gap-1 transition-colors",children:["View All",e.jsx(r,{name:"ArrowRight",size:16})]})]}),d?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5",children:[1,2,3,4].map(s=>e.jsx("div",{className:"aspect-[4/5] bg-slate-100 dark:bg-slate-800 rounded-2xl animate-pulse"},s))}):a.length>0?e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-5",children:a.slice(0,8).map(s=>e.jsx($,{product:s,onClick:()=>n("/seller/products")},s.id))}):e.jsxs("div",{className:"text-center py-16",children:[e.jsx("div",{className:"w-20 h-20 rounded-3xl bg-gradient-to-br from-pink-100 to-rose-100 dark:from-pink-500/10 dark:to-rose-500/10 flex items-center justify-center mx-auto mb-5",children:e.jsx(r,{name:"Package",size:36,className:"text-pink-500"})}),e.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-2",children:"No products yet"}),e.jsx("p",{className:"text-slate-500 mb-6 max-w-sm mx-auto",children:"Start adding products to showcase your brand on Glowimatch"}),e.jsxs("button",{onClick:()=>n("/seller/products"),className:"inline-flex items-center gap-2 px-6 py-3 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-xl font-semibold shadow-lg shadow-pink-500/25 hover:shadow-xl hover:shadow-pink-500/30 transition-all",children:[e.jsx(r,{name:"Plus",size:18}),"Add Your First Product"]})]})]})]}),C&&e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"relative bg-white dark:bg-slate-900 rounded-3xl w-full max-w-md shadow-2xl overflow-hidden animate-in fade-in zoom-in duration-300",children:[e.jsx("button",{onClick:f,className:"absolute top-4 right-4 p-2 hover:bg-slate-100 dark:hover:bg-slate-800 rounded-xl transition-colors z-10",children:e.jsx(r,{name:"X",size:20,className:"text-slate-500"})}),e.jsxs("div",{className:"h-32 bg-gradient-to-br from-pink-500 via-rose-500 to-fuchsia-500 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:e.jsx("div",{className:"w-20 h-20 rounded-full bg-white/20 backdrop-blur flex items-center justify-center",children:e.jsx(r,{name:"Gift",size:40,className:"text-white"})})}),e.jsx("div",{className:"absolute -bottom-6 -left-6 w-24 h-24 bg-white/10 rounded-full blur-xl"}),e.jsx("div",{className:"absolute -top-6 -right-6 w-32 h-32 bg-white/10 rounded-full blur-xl"})]}),e.jsxs("div",{className:"p-8 text-center",children:[e.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-1.5 bg-emerald-50 dark:bg-emerald-500/10 text-emerald-600 dark:text-emerald-400 text-sm font-semibold rounded-full mb-4",children:[e.jsx(r,{name:"Sparkles",size:16}),"Special Offer"]}),e.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-3",children:"Welcome to Glowimatch! ðŸŽ‰"}),e.jsx("p",{className:"text-slate-500 mb-6",children:"As a thank you for joining us, you've received"}),e.jsxs("div",{className:"bg-gradient-to-r from-pink-50 to-fuchsia-50 dark:from-pink-500/10 dark:to-fuchsia-500/10 rounded-2xl p-6 mb-6",children:[e.jsx("p",{className:"text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-pink-500 to-fuchsia-500 mb-2",children:"3 Months"}),e.jsx("p",{className:"text-lg font-semibold text-slate-700 dark:text-slate-300",children:"FREE Premium Access"})]}),e.jsx("p",{className:"text-sm text-slate-400 mb-6",children:"Start adding your products today and reach thousands of skincare enthusiasts!"}),e.jsx("button",{onClick:f,className:"w-full px-6 py-4 bg-gradient-to-r from-pink-500 to-rose-500 text-white rounded-xl font-bold text-lg shadow-lg shadow-pink-500/25 hover:shadow-xl hover:shadow-pink-500/30 hover:-translate-y-0.5 transition-all duration-200",children:"Get Started"})]})]})})]})};export{B as default};
